# 여행 상세 일정 생성 서비스 유저스토리

## 1. 프로파일 서비스 (Profile Service)

### RQ-PROF-001: 여행 멤버 등록
- **서비스**: 프로파일 서비스
- **ID**: RQ-PROF-001
- **Epic**: 여행 프로파일 관리
- **유저스토리**: 여행자로서, 나는 함께 여행할 멤버들의 정보를 효율적으로 관리하기 위해, 여행 멤버를 등록하고 관리하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 여행 멤버 신규 등록
  - **인수기준**: 
    - Given: 사용자가 여행 멤버 등록 화면에 접속한 상태
    - When: 멤버의 이름, 나이, 건강상태, 선호사항을 입력하고 저장 버튼 클릭
    - Then: 멤버 정보가 저장되고 멤버 목록에 표시됨
  - **체크리스트**:
    - [ ] 필수 정보(이름, 나이) 입력 여부 검증
    - [ ] 나이는 0-150 범위 내 숫자만 입력 가능
    - [ ] 건강상태는 선택형(양호/주의필요/제한있음) 또는 자유 텍스트 입력
    - [ ] 선호사항은 복수 선택 가능 (문화/자연/액티비티/음식/쇼핑 등)
    - [ ] 멤버 정보 수정 기능 제공
    - [ ] 멤버 삭제 시 확인 메시지 표시
- **Score**: 5

### RQ-PROF-002: 여행 기본 정보 설정
- **서비스**: 프로파일 서비스
- **ID**: RQ-PROF-002
- **Epic**: 여행 프로파일 관리
- **유저스토리**: 여행 계획자로서, 나는 효율적인 일정 계획을 위해, 여행의 기본 정보(날짜, 출발지, 도착지, 숙소)를 설정하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 여행 기본 정보 입력
  - **인수기준**:
    - Given: 사용자가 여행 정보 설정 화면에 접속한 상태
    - When: 여행 날짜, 출발지, 도착지, 숙소 정보를 입력하고 저장
    - Then: 여행 기본 정보가 저장되고 일정 생성에 활용 가능
  - **체크리스트**:
    - [ ] 달력 UI를 통한 여행 기간 선택
    - [ ] 출발지/도착지 자동완성 기능 (국가, 도시 단위)
    - [ ] 숙소 정보 입력 (이름, 주소, 연락처)
    - [ ] 여행 기간은 최대 365일까지 설정 가능
    - [ ] 과거 날짜 선택 시 경고 메시지
    - [ ] 입력된 정보 미리보기 기능
- **Score**: 5

### RQ-PROF-003: 이동 수단 설정
- **서비스**: 프로파일 서비스
- **ID**: RQ-PROF-003
- **Epic**: 여행 프로파일 관리
- **유저스토리**: 여행자로서, 나는 정확한 이동 시간 계산을 위해, 주요 이동 수단을 설정하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 이동 수단 선택
  - **인수기준**:
    - Given: 사용자가 이동 수단 설정 화면에 있는 상태
    - When: 대중교통 또는 자가용을 선택
    - Then: 선택된 이동 수단이 저장되고 경로 계산에 반영됨
  - **체크리스트**:
    - [ ] 대중교통/자가용 선택 옵션
    - [ ] 복수 이동 수단 선택 가능
    - [ ] 날짜별로 다른 이동 수단 설정 가능
    - [ ] 기본 이동 수단 설정 기능
    - [ ] 이동 수단별 아이콘 표시
- **Score**: 3

## 2. 일정 서비스 (Itinerary Service)

### RQ-ITIN-001: 일일 상세 일정 생성
- **서비스**: 일정 서비스
- **ID**: RQ-ITIN-001
- **Epic**: 상세 일정 생성
- **유저스토리**: 여행 계획자로서, 나는 효율적이고 맞춤형 여행을 위해, 멤버 특성을 고려한 시간대별 상세 일정을 자동으로 생성하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: AI 기반 일정 자동 생성
  - **인수기준**:
    - Given: 여행 기본 정보와 멤버 정보가 입력된 상태
    - When: 특정 날짜의 일정 생성 버튼 클릭
    - Then: 시간대별 상세 일정이 생성되고 편집 가능한 형태로 표시됨
  - **체크리스트**:
    - [ ] 멤버의 나이를 고려한 일정 강도 조절
    - [ ] 건강상태에 따른 휴식 시간 배치
    - [ ] 멤버 선호도를 반영한 장소 선정
    - [ ] 사용자 추가 요구사항 텍스트 입력 및 반영 (예: "카페 휴식", "매운음식 제외" 등)
    - [ ] 오전 9시~오후 9시 기준 일정 생성
    - [ ] 식사 시간 자동 배치 (아침/점심/저녁)
    - [ ] 이동 시간을 고려한 현실적인 일정 구성
    - [ ] 생성된 일정 수동 편집 가능
- **Score**: 13

### RQ-ITIN-002: 장소별 상세 정보 제공
- **서비스**: 일정 서비스
- **ID**: RQ-ITIN-002
- **Epic**: 상세 일정 생성
- **유저스토리**: 여행자로서, 나는 원활한 여행 진행을 위해, 각 장소의 상세 정보를 표준 템플릿으로 확인하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 장소 상세 정보 표시
  - **인수기준**:
    - Given: 일정에 장소가 추가된 상태
    - When: 특정 장소를 선택
    - Then: 표준 템플릿에 따른 상세 정보가 표시됨
  - **체크리스트**:
    - [ ] 장소명과 추천 이유 표시
    - [ ] 정확한 도로명 주소 제공
    - [ ] 지도 앱 연동을 위한 검색어 제공
    - [ ] 최신 평점 정보 표시 (구글/카카오 연동)
    - [ ] 연락처 정보 제공 및 클릭 시 전화 연결
    - [ ] 실시간 영업시간 정보 확인
    - [ ] 주차장 정보 및 검색어 제공
    - [ ] MCP를 통한 정보 실시간 검증
- **Score**: 8

### RQ-ITIN-003: 이동 경로 및 시간 계산
- **서비스**: 일정 서비스
- **ID**: RQ-ITIN-003
- **Epic**: 상세 일정 생성
- **유저스토리**: 여행 계획자로서, 나는 현실적인 일정 수립을 위해, 장소 간 정확한 이동 거리와 시간을 계산하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 경로 자동 계산
  - **인수기준**:
    - Given: 일정에 복수의 장소가 등록된 상태
    - When: 일정 최적화 버튼 클릭
    - Then: 각 구간별 이동 시간과 경로가 계산되어 표시됨
  - **체크리스트**:
    - [ ] 국내 여행 시 카카오맵 MCP 활용
    - [ ] 해외 여행 시 구글맵 MCP 활용
    - [ ] 선택된 이동 수단별 시간 계산
    - [ ] 실시간 교통 상황 반영 옵션
    - [ ] 도보/대중교통/자가용별 예상 시간 표시
    - [ ] 경로 지도 시각화
    - [ ] 대체 경로 제안 기능
- **Score**: 8

### RQ-ITIN-004: 사진 및 메모 첨부
- **서비스**: 일정 서비스
- **ID**: RQ-ITIN-004
- **Epic**: 상세 일정 생성
- **유저스토리**: 여행자로서, 나는 여행의 추억을 기록하기 위해, 각 장소에 사진과 메모를 첨부하는 기능을 원합니다.
- **Biz중요도**: S (Should)
- **인수테스트 시나리오**:
  - **시나리오명**: 멀티미디어 콘텐츠 첨부
  - **인수기준**:
    - Given: 일정의 특정 장소를 선택한 상태
    - When: 사진 업로드 또는 메모 작성
    - Then: 해당 장소에 콘텐츠가 저장되고 표시됨
  - **체크리스트**:
    - [ ] 장소당 최대 10장 사진 업로드
    - [ ] 지원 형식: JPG, PNG, HEIC
    - [ ] 사진 압축 및 최적화 자동 처리
    - [ ] 500자 이내 텍스트 메모 작성
    - [ ] 이모지 지원
    - [ ] 첨부 파일 미리보기
    - [ ] 첨부 파일 삭제 기능
- **Score**: 5

## 3. 장소 서비스 (Location Service)

### RQ-LOC-001: 주변 장소 검색
- **서비스**: 장소 서비스
- **ID**: RQ-LOC-001
- **Epic**: 장소 검색 및 추천
- **유저스토리**: 여행자로서, 나는 현재 위치에서 접근 가능한 장소를 찾기 위해, 조건별 주변 장소 검색 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 거리 기반 장소 검색
  - **인수기준**:
    - Given: 현재 위치 또는 특정 장소가 중심점으로 설정된 상태
    - When: 검색 조건(카테고리, 거리, 이동수단) 설정 후 검색
    - Then: 조건에 맞는 장소 목록이 거리순으로 표시됨
  - **체크리스트**:
    - [ ] 현재 위치 자동 인식 (GPS)
    - [ ] 수동 위치 설정 기능
    - [ ] 이동 수단별 검색 반경 자동 설정
    - [ ] 대중교통/차량: 60분 이내
    - [ ] 도보: 20분 이내
    - [ ] 카테고리별 필터링 (음식점/카페/관광지/쇼핑 등)
    - [ ] 현지 언어로 검색 수행
    - [ ] 검색 결과 지도 표시
- **Score**: 8

### RQ-LOC-002: 장소 정보 실시간 검증
- **서비스**: 장소 서비스
- **ID**: RQ-LOC-002
- **Epic**: 장소 검색 및 추천
- **유저스토리**: 여행자로서, 나는 정확한 정보를 바탕으로 방문 계획을 세우기 위해, 실시간으로 검증된 장소 정보를 확인하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 실시간 정보 업데이트
  - **인수기준**:
    - Given: 특정 장소를 조회하는 상태
    - When: 장소 상세 정보 요청
    - Then: MCP를 통해 검증된 최신 정보가 표시됨
  - **체크리스트**:
    - [ ] 영업 상태 실시간 확인 (영업중/휴무/폐업)
    - [ ] 오늘의 영업시간 표시
    - [ ] 임시 휴무 정보 확인
    - [ ] 최근 1개월 이내 리뷰 우선 표시
    - [ ] 평점 변화 추이 그래프
    - [ ] 혼잡도 정보 제공 (가능한 경우)
    - [ ] 좌표 정보 정확성 검증
    - [ ] 정보 업데이트 시각 표시
- **Score**: 8

### RQ-LOC-003: 지역 특성 기반 추천
- **서비스**: 장소 서비스
- **ID**: RQ-LOC-003
- **Epic**: 장소 검색 및 추천
- **유저스토리**: 여행자로서, 나는 지역의 특색을 경험하기 위해, 현재 지역의 특성을 반영한 장소 추천을 받는 기능을 원합니다.
- **Biz중요도**: S (Should)
- **인수테스트 시나리오**:
  - **시나리오명**: 지역 맞춤형 추천
  - **인수기준**:
    - Given: 특정 지역에서 장소 추천을 요청한 상태
    - When: 추천 받기 버튼 클릭
    - Then: 해당 지역 특성에 맞는 장소가 추천됨
  - **체크리스트**:
    - [ ] 지역 구분 (도시/교외/시골/산간/해안 등)
    - [ ] 지역별 특산물/명물 우선 추천
    - [ ] 계절별 추천 장소 구분
    - [ ] 지역 축제/이벤트 정보 연동
    - [ ] 로컬 맛집 우선 노출
    - [ ] 관광객 vs 현지인 선호도 구분
    - [ ] 추천 이유 명시
- **Score**: 5

### RQ-LOC-004: 다국어 검색 지원
- **서비스**: 장소 서비스
- **ID**: RQ-LOC-004
- **Epic**: 장소 검색 및 추천
- **유저스토리**: 해외 여행자로서, 나는 현지에서 원활한 장소 검색을 위해, 현지 언어로 자동 번역되어 검색하는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 자동 언어 변환 검색
  - **인수기준**:
    - Given: 해외 지역에서 한국어로 검색어 입력
    - When: 검색 실행
    - Then: 현지 언어로 번역되어 검색되고 결과는 한국어로 표시
  - **체크리스트**:
    - [ ] 여행지 국가 자동 인식
    - [ ] 주요 20개국 언어 지원
    - [ ] 음식명/관광지명 현지어 변환
    - [ ] 검색 결과 한국어 번역 표시
    - [ ] 원어 병기 옵션
    - [ ] 번역 품질 피드백 기능
    - [ ] 오프라인 기본 번역 DB 제공
- **Score**: 8

## 통합 요구사항

### RQ-INT-001: 마이크로서비스 간 데이터 동기화
- **서비스**: 전체 시스템
- **ID**: RQ-INT-001
- **Epic**: 시스템 통합
- **유저스토리**: 시스템 관리자로서, 나는 일관된 서비스 제공을 위해, 각 마이크로서비스 간 데이터가 실시간으로 동기화되는 기능을 원합니다.
- **Biz중요도**: M (Must)
- **인수테스트 시나리오**:
  - **시나리오명**: 서비스 간 데이터 일관성
  - **인수기준**:
    - Given: 프로파일 서비스에서 정보 변경
    - When: 일정 서비스에서 해당 정보 조회
    - Then: 변경된 최신 정보가 즉시 반영되어 표시
  - **체크리스트**:
    - [ ] 이벤트 기반 아키텍처 구현
    - [ ] 메시지 큐를 통한 비동기 통신
    - [ ] 데이터 일관성 보장 메커니즘
    - [ ] 서비스 장애 시 복구 전략
    - [ ] 트랜잭션 관리
    - [ ] 로깅 및 모니터링
- **Score**: 13