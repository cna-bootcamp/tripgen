<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripGen - 주변 장소 검색</title>
    <style>
        /* CSS Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Colors from Style Guide */
            --primary-blue: #2563EB;
            --primary-orange: #F97316;
            --deep-blue: #1E40AF;
            --light-orange: #FED7AA;
            --success-green: #10B981;
            --warning-yellow: #F59E0B;
            --error-red: #EF4444;
            --info-blue: #3B82F6;
            
            /* Text Colors */
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-tertiary: #6B7280;
            --text-disabled: #9CA3AF;
            
            /* Background Colors */
            --bg-white: #FFFFFF;
            --bg-off-white: #F9FAFB;
            --bg-light-gray: #F3F4F6;
            --border-gray: #E5E7EB;
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 12px;
            --spacing-lg: 16px;
            --spacing-xl: 24px;
            --spacing-2xl: 32px;
            --spacing-3xl: 48px;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            font-size: 16px;
            line-height: 1.5;
            color: var(--text-primary);
            background-color: var(--bg-off-white);
        }

        /* Header */
        .header {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border-gray);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .back-button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: var(--spacing-sm);
            color: var(--text-primary);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .placeholder {
            width: 40px;
        }

        /* Search Section */
        .search-section {
            background: var(--bg-white);
            padding: var(--spacing-xl) var(--spacing-lg);
            border-bottom: 1px solid var(--border-gray);
        }

        .search-conditions {
            margin-bottom: var(--spacing-xl);
        }

        .condition-group {
            margin-bottom: var(--spacing-lg);
        }

        .condition-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
        }

        .condition-input {
            width: 100%;
            border: 2px solid var(--border-gray);
            border-radius: 8px;
            padding: var(--spacing-md) var(--spacing-lg);
            font-size: 16px;
            background: var(--bg-white);
            transition: border-color 0.2s ease;
            position: relative;
        }

        .condition-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .location-input-group {
            position: relative;
        }

        .current-location-btn {
            position: absolute;
            right: var(--spacing-sm);
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-blue);
            color: var(--bg-white);
            border: none;
            border-radius: 4px;
            padding: var(--spacing-xs);
            cursor: pointer;
            font-size: 14px;
        }

        .radio-group {
            display: flex;
            gap: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-input {
            margin-right: var(--spacing-sm);
            accent-color: var(--primary-blue);
        }

        .radio-label {
            font-size: 16px;
            color: var(--text-primary);
            cursor: pointer;
        }

        /* Keyword Search */
        .keyword-search {
            position: relative;
        }

        .search-input {
            width: 100%;
            border: 2px solid var(--border-gray);
            border-radius: 12px;
            padding: var(--spacing-lg);
            font-size: 16px;
            background: var(--bg-light-gray);
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: var(--bg-white);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            left: var(--spacing-lg);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 18px;
            pointer-events: none;
        }

        .search-input {
            padding-left: var(--spacing-3xl);
        }

        /* Filters Section */
        .filters-section {
            background: var(--bg-white);
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border-gray);
        }

        .filter-categories {
            display: flex;
            gap: var(--spacing-sm);
            overflow-x: auto;
            padding-bottom: var(--spacing-sm);
        }

        .filter-category {
            flex: 0 0 auto;
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 2px solid var(--border-gray);
            border-radius: 20px;
            background: var(--bg-white);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        .filter-category.active {
            background: var(--primary-blue);
            color: var(--bg-white);
            border-color: var(--primary-blue);
        }

        .filter-category:hover:not(.active) {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        /* Results Section */
        .results-section {
            padding: var(--spacing-lg);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .results-count {
            font-size: 14px;
            color: var(--text-tertiary);
        }

        .sort-select {
            border: 1px solid var(--border-gray);
            border-radius: 6px;
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: 14px;
            background: var(--bg-white);
            cursor: pointer;
        }

        /* Place Cards */
        .place-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        .place-card {
            background: var(--bg-white);
            border: 1px solid var(--border-gray);
            border-radius: 12px;
            padding: var(--spacing-lg);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .place-card:hover {
            border-color: var(--primary-blue);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1);
        }

        .place-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-md);
        }

        .place-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
        }

        .travel-time {
            font-size: 14px;
            color: var(--primary-blue);
            font-weight: 500;
            background: rgba(37, 99, 235, 0.1);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 12px;
        }

        .place-rating {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }

        .stars {
            color: var(--warning-yellow);
            font-size: 16px;
        }

        .rating-text {
            font-size: 14px;
            color: var(--text-tertiary);
        }

        .place-address {
            font-size: 14px;
            color: var(--text-tertiary);
            margin-bottom: var(--spacing-lg);
        }

        .place-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .action-button {
            flex: 1;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .btn-details {
            background: var(--bg-light-gray);
            color: var(--text-primary);
        }

        .btn-details:hover {
            background: var(--info-blue);
            color: var(--bg-white);
        }

        .btn-directions {
            background: var(--bg-light-gray);
            color: var(--text-primary);
        }

        .btn-directions:hover {
            background: var(--success-green);
            color: var(--bg-white);
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: var(--spacing-2xl);
            color: var(--text-tertiary);
        }

        .loading-spinner {
            font-size: 32px;
            animation: spin 1s linear infinite;
            margin-bottom: var(--spacing-lg);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: var(--spacing-3xl);
            color: var(--text-tertiary);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: var(--spacing-lg);
        }

        /* Bottom Navigation */
        .bottom-nav {
            background: var(--bg-white);
            border-top: 1px solid var(--border-gray);
            padding: var(--spacing-sm) 0;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--spacing-sm);
            min-width: 48px;
            text-decoration: none;
            color: var(--text-tertiary);
            transition: color 0.2s ease;
        }

        .nav-item.active {
            color: var(--primary-blue);
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: var(--spacing-xs);
        }

        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .radio-group {
                gap: var(--spacing-2xl);
            }
            
            .filter-categories {
                justify-content: center;
            }
            
            .place-list {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-xl);
            }
            
            .bottom-nav {
                display: none;
            }
        }

        @media (min-width: 1024px) {
            .place-list {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        *:focus {
            outline: 2px solid var(--primary-blue);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <button class="back-button" onclick="goBack()" aria-label="뒤로가기">←</button>
        <h1 class="header-title">주변 장소 검색</h1>
        <div class="placeholder"></div>
    </header>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-conditions">
            <!-- 출발지 -->
            <div class="condition-group">
                <label class="condition-label" for="startLocation">출발지</label>
                <div class="location-input-group">
                    <input type="text" id="startLocation" class="condition-input" value="Munich Central Station" placeholder="출발지를 입력하세요">
                    <button class="current-location-btn" onclick="useCurrentLocation()" title="현재 위치">📍</button>
                </div>
            </div>

            <!-- 이동수단 -->
            <div class="condition-group">
                <label class="condition-label">이동수단</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="transport1" name="transport" value="대중교통" class="radio-input" checked onchange="searchPlaces()">
                        <label for="transport1" class="radio-label">대중교통</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="transport2" name="transport" value="차량" class="radio-input" onchange="searchPlaces()">
                        <label for="transport2" class="radio-label">차량</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="transport3" name="transport" value="도보" class="radio-input" onchange="searchPlaces()">
                        <label for="transport3" class="radio-label">도보</label>
                    </div>
                </div>
            </div>

            <!-- 시간 범위 -->
            <div class="condition-group">
                <label class="condition-label">시간 범위</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="time1" name="timeRange" value="10분내" class="radio-input" onchange="searchPlaces()">
                        <label for="time1" class="radio-label">10분내</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="time2" name="timeRange" value="30분내" class="radio-input" checked onchange="searchPlaces()">
                        <label for="time2" class="radio-label">30분내</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="time3" name="timeRange" value="60분내" class="radio-input" onchange="searchPlaces()">
                        <label for="time3" class="radio-label">60분내</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 키워드 검색 -->
        <div class="keyword-search">
            <div style="position: relative;">
                <span class="search-icon">✨</span>
                <input type="text" class="search-input" placeholder="찾을 장소 종류/이름 입력" oninput="handleKeywordSearch(this.value)">
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="filter-categories">
            <button class="filter-category active" onclick="filterByCategory('전체')" data-category="전체">전체</button>
            <button class="filter-category" onclick="filterByCategory('관광지')" data-category="관광지">관광지</button>
            <button class="filter-category" onclick="filterByCategory('맛집')" data-category="맛집">맛집</button>
            <button class="filter-category" onclick="filterByCategory('빨래방')" data-category="빨래방">빨래방</button>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section">
        <div class="results-header">
            <div class="results-count" id="resultsCount">24곳을 찾았습니다</div>
            <select class="sort-select" onchange="sortResults(this.value)">
                <option value="time">시간순</option>
                <option value="rating">평점순</option>
                <option value="name">이름순</option>
                <option value="review">리뷰순</option>
            </select>
        </div>

        <!-- Place List -->
        <div class="place-list" id="placeList">
            <!-- Place Card 1 -->
            <div class="place-card" onclick="viewPlaceDetails(1)">
                <div class="place-header">
                    <div>
                        <div class="place-name">마리엔플라츠 (Marienplatz)</div>
                        <div class="place-rating">
                            <span class="stars">★★★★☆</span>
                            <span class="rating-text">4.3 (5,234개 리뷰)</span>
                        </div>
                    </div>
                    <div class="travel-time">대중교통 12분</div>
                </div>
                <div class="place-address">Marienplatz 1, 80331 München, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(1, event)">상세정보</button>
                    <button class="action-button btn-directions" onclick="getDirections(1, event)">길찾기</button>
                </div>
            </div>

            <!-- Place Card 2 -->
            <div class="place-card" onclick="viewPlaceDetails(2)">
                <div class="place-header">
                    <div>
                        <div class="place-name">호프브로이하우스 (Hofbräuhaus)</div>
                        <div class="place-rating">
                            <span class="stars">★★★★☆</span>
                            <span class="rating-text">4.1 (8,942개 리뷰)</span>
                        </div>
                    </div>
                    <div class="travel-time">대중교통 15분</div>
                </div>
                <div class="place-address">Platzl 9, 80331 München, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(2, event)">상세정보</button>
                    <button class="action-button btn-directions" onclick="getDirections(2, event)">길찾기</button>
                </div>
            </div>

            <!-- Place Card 3 -->
            <div class="place-card" onclick="viewPlaceDetails(3)">
                <div class="place-header">
                    <div>
                        <div class="place-name">뮌헨 레지덴츠 (München Residenz)</div>
                        <div class="place-rating">
                            <span class="stars">★★★★★</span>
                            <span class="rating-text">4.5 (3,721개 리뷰)</span>
                        </div>
                    </div>
                    <div class="travel-time">대중교통 18분</div>
                </div>
                <div class="place-address">Residenzstraße 1, 80333 München, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(3, event)">상세정보</button>
                    <button class="action-button btn-directions" onclick="getDirections(3, event)">길찾기</button>
                </div>
            </div>

            <!-- Place Card 4 -->
            <div class="place-card" onclick="viewPlaceDetails(4)">
                <div class="place-header">
                    <div>
                        <div class="place-name">프라우엔키르헨 (Frauenkirche)</div>
                        <div class="place-rating">
                            <span class="stars">★★★★☆</span>
                            <span class="rating-text">4.2 (2,156개 리뷰)</span>
                        </div>
                    </div>
                    <div class="travel-time">대중교통 20분</div>
                </div>
                <div class="place-address">Frauenplatz 12, 80331 München, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(4, event)">상세정보</button>
                    <button class="action-button btn-directions" onclick="getDirections(4, event)">길찾기</button>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading" id="loadingState" style="display: none;">
            <div class="loading-spinner">⏳</div>
            <p>더 많은 장소를 찾는 중...</p>
        </div>
    </section>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" aria-label="하단 네비게이션">
        <a href="#" class="nav-item" onclick="goToHome()">
            <div class="nav-icon">🏠</div>
            <span class="nav-label">홈</span>
        </a>
        <a href="#" class="nav-item" onclick="goToNewTrip()">
            <div class="nav-icon">✈️</div>
            <span class="nav-label">새 여행</span>
        </a>
        <a href="#" class="nav-item active" onclick="goToSearch()">
            <div class="nav-icon">📍</div>
            <span class="nav-label">장소검색</span>
        </a>
        <a href="#" class="nav-item" onclick="goToTripList()">
            <div class="nav-icon">📋</div>
            <span class="nav-label">여행목록</span>
        </a>
    </nav>

    <script>
        // Global variables
        let currentCategory = '전체';
        let currentKeyword = '';
        let isLoading = false;
        let currentPage = 1;

        // Sample place data
        const samplePlaces = [
            {
                id: 1,
                name: '마리엔플라츠 (Marienplatz)',
                category: '관광지',
                rating: 4.3,
                reviewCount: 5234,
                travelTime: '대중교통 12분',
                address: 'Marienplatz 1, 80331 München, Germany'
            },
            {
                id: 2,
                name: '호프브로이하우스 (Hofbräuhaus)',
                category: '맛집',
                rating: 4.1,
                reviewCount: 8942,
                travelTime: '대중교통 15분',
                address: 'Platzl 9, 80331 München, Germany'
            },
            {
                id: 3,
                name: '뮌헨 레지덴츠 (München Residenz)',
                category: '관광지',
                rating: 4.5,
                reviewCount: 3721,
                travelTime: '대중교통 18분',
                address: 'Residenzstraße 1, 80333 München, Germany'
            },
            {
                id: 4,
                name: '프라우엔키르헨 (Frauenkirche)',
                category: '관광지',
                rating: 4.2,
                reviewCount: 2156,
                travelTime: '대중교통 20분',
                address: 'Frauenplatz 12, 80331 München, Germany'
            }
        ];

        // Current location functionality
        function useCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    alert(`현재 위치가 설정되었습니다.\n위도: ${position.coords.latitude}\n경도: ${position.coords.longitude}`);
                    document.getElementById('startLocation').value = '현재 위치';
                    searchPlaces();
                }, function(error) {
                    alert('위치 정보를 가져올 수 없습니다. 수동으로 입력해주세요.');
                });
            } else {
                alert('이 브라우저는 위치 서비스를 지원하지 않습니다.');
            }
        }

        // Search functionality
        function searchPlaces() {
            const startLocation = document.getElementById('startLocation').value;
            const transport = document.querySelector('input[name="transport"]:checked').value;
            const timeRange = document.querySelector('input[name="timeRange"]:checked').value;
            
            console.log('검색 조건:', {
                startLocation,
                transport,
                timeRange,
                category: currentCategory,
                keyword: currentKeyword
            });
            
            // Simulate API call
            showLoading();
            setTimeout(() => {
                hideLoading();
                updateResults();
            }, 1000);
        }

        // Keyword search with debounce
        let keywordTimeout;
        function handleKeywordSearch(keyword) {
            clearTimeout(keywordTimeout);
            keywordTimeout = setTimeout(() => {
                currentKeyword = keyword;
                if (keyword.length > 0) {
                    searchPlaces();
                } else {
                    updateResults();
                }
            }, 500);
        }

        // Category filtering
        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active category
            document.querySelectorAll('.filter-category').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            updateResults();
        }

        // Sort results
        function sortResults(sortBy) {
            console.log('정렬 기준:', sortBy);
            // Implement sorting logic here
            updateResults();
        }

        // Update results display
        function updateResults() {
            let filteredPlaces = samplePlaces;
            
            // Filter by category
            if (currentCategory !== '전체') {
                filteredPlaces = filteredPlaces.filter(place => place.category === currentCategory);
            }
            
            // Filter by keyword
            if (currentKeyword) {
                filteredPlaces = filteredPlaces.filter(place => 
                    place.name.toLowerCase().includes(currentKeyword.toLowerCase())
                );
            }
            
            // Update results count
            document.getElementById('resultsCount').textContent = `${filteredPlaces.length}곳을 찾았습니다`;
            
            // Update place list
            const placeList = document.getElementById('placeList');
            
            if (filteredPlaces.length === 0) {
                placeList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">🔍</div>
                        <h3>검색 결과가 없습니다</h3>
                        <p>다른 검색 조건을 시도해보세요</p>
                    </div>
                `;
            } else {
                placeList.innerHTML = filteredPlaces.map(place => `
                    <div class="place-card" onclick="viewPlaceDetails(${place.id})">
                        <div class="place-header">
                            <div>
                                <div class="place-name">${place.name}</div>
                                <div class="place-rating">
                                    <span class="stars">${generateStars(place.rating)}</span>
                                    <span class="rating-text">${place.rating} (${place.reviewCount.toLocaleString()}개 리뷰)</span>
                                </div>
                            </div>
                            <div class="travel-time">${place.travelTime}</div>
                        </div>
                        <div class="place-address">${place.address}</div>
                        <div class="place-actions">
                            <button class="action-button btn-details" onclick="viewPlaceDetails(${place.id}, event)">상세정보</button>
                            <button class="action-button btn-directions" onclick="getDirections(${place.id}, event)">길찾기</button>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Generate star rating display
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            return '★'.repeat(fullStars) + 
                   (hasHalfStar ? '☆' : '') + 
                   '☆'.repeat(emptyStars);
        }

        // Place actions
        function viewPlaceDetails(placeId, event) {
            if (event) {
                event.stopPropagation();
            }
            // 장소 상세정보 화면으로 이동
            window.location.href = '10-장소상세정보.html?id=' + placeId;
        }

        function getDirections(placeId, event) {
            event.stopPropagation();
            
            const place = samplePlaces.find(p => p.id === placeId);
            if (place) {
                alert(`${place.name}으로 길찾기를 시작합니다.`);
                // Open navigation app (Kakao Map for domestic, Google Maps for international)
            }
        }

        // Loading states
        function showLoading() {
            isLoading = true;
            document.getElementById('loadingState').style.display = 'block';
        }

        function hideLoading() {
            isLoading = false;
            document.getElementById('loadingState').style.display = 'none';
        }

        // Infinite scroll
        function setupInfiniteScroll() {
            window.addEventListener('scroll', function() {
                if (isLoading) return;
                
                const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
                
                if (scrollTop + clientHeight >= scrollHeight - 5) {
                    loadMoreResults();
                }
            });
        }

        function loadMoreResults() {
            if (isLoading) return;
            
            showLoading();
            currentPage++;
            
            // Simulate API call for next page
            setTimeout(() => {
                hideLoading();
                console.log(`페이지 ${currentPage} 로드 완료`);
            }, 1000);
        }

        // Navigation
        function goBack() {
            window.location.href = '03-대시보드.html';
        }

        function goToHome() {
            window.location.href = '03-대시보드.html';
        }

        function goToNewTrip() {
            alert('새 여행 계획하기 화면으로 이동');
            // window.location.href = '05-기본설정.html';
        }

        function goToSearch() {
            alert('장소검색 화면 (현재 페이지)');
        }

        function goToTripList() {
            alert('여행 목록 화면으로 이동');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            setupInfiniteScroll();
            searchPlaces(); // Initial search
            
            console.log('주변장소검색 페이지 로드 완료');
        });

        // Handle form submissions
        document.getElementById('startLocation').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPlaces();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const focusedElement = document.activeElement;
                if (focusedElement.classList.contains('place-card')) {
                    e.preventDefault();
                    focusedElement.click();
                }
            }
        });
    </script>
</body>
</html>