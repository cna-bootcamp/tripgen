<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripGen - ì£¼ë³€ ì¥ì†Œ ê²€ìƒ‰</title>
    <style>
        /* CSS Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Colors from Style Guide */
            --primary-blue: #2563EB;
            --primary-orange: #F97316;
            --deep-blue: #1E40AF;
            --light-orange: #FED7AA;
            --success-green: #10B981;
            --warning-yellow: #F59E0B;
            --error-red: #EF4444;
            --info-blue: #3B82F6;
            
            /* Text Colors */
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-tertiary: #6B7280;
            --text-disabled: #9CA3AF;
            
            /* Background Colors */
            --bg-white: #FFFFFF;
            --bg-off-white: #F9FAFB;
            --bg-light-gray: #F3F4F6;
            --border-gray: #E5E7EB;
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 12px;
            --spacing-lg: 16px;
            --spacing-xl: 24px;
            --spacing-2xl: 32px;
            --spacing-3xl: 48px;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            font-size: 16px;
            line-height: 1.5;
            color: var(--text-primary);
            background-color: var(--bg-off-white);
        }

        /* Header */
        .header {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border-gray);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .back-button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: var(--spacing-sm);
            color: var(--text-primary);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .placeholder {
            width: 40px;
        }

        /* Search Section */
        .search-section {
            background: var(--bg-white);
            padding: var(--spacing-xl) var(--spacing-lg);
            border-bottom: 1px solid var(--border-gray);
        }

        .search-conditions {
            margin-bottom: var(--spacing-xl);
        }

        .condition-group {
            margin-bottom: var(--spacing-lg);
        }

        .condition-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
        }

        .condition-input {
            width: 100%;
            border: 2px solid var(--border-gray);
            border-radius: 8px;
            padding: var(--spacing-md) var(--spacing-lg);
            font-size: 16px;
            background: var(--bg-white);
            transition: border-color 0.2s ease;
            position: relative;
        }

        .condition-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .location-input-group {
            position: relative;
        }

        .current-location-btn {
            position: absolute;
            right: var(--spacing-sm);
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-blue);
            color: var(--bg-white);
            border: none;
            border-radius: 4px;
            padding: var(--spacing-xs);
            cursor: pointer;
            font-size: 14px;
        }

        .radio-group {
            display: flex;
            gap: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-input {
            margin-right: var(--spacing-sm);
            accent-color: var(--primary-blue);
        }

        .radio-label {
            font-size: 16px;
            color: var(--text-primary);
            cursor: pointer;
        }

        /* Keyword Search */
        .keyword-search {
            position: relative;
        }

        .search-input {
            width: 100%;
            border: 2px solid var(--border-gray);
            border-radius: 12px;
            padding: var(--spacing-lg);
            font-size: 16px;
            background: var(--bg-light-gray);
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: var(--bg-white);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            left: var(--spacing-lg);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 18px;
            pointer-events: none;
        }

        .search-input {
            padding-left: var(--spacing-3xl);
        }

        /* Filters Section */
        .filters-section {
            background: var(--bg-white);
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border-gray);
        }

        .filter-categories {
            display: flex;
            gap: var(--spacing-sm);
            overflow-x: auto;
            padding-bottom: var(--spacing-sm);
        }

        .filter-category {
            flex: 0 0 auto;
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 2px solid var(--border-gray);
            border-radius: 20px;
            background: var(--bg-white);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        .filter-category.active {
            background: var(--primary-blue);
            color: var(--bg-white);
            border-color: var(--primary-blue);
        }

        .filter-category:hover:not(.active) {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        /* Results Section */
        .results-section {
            padding: var(--spacing-lg);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .results-count {
            font-size: 14px;
            color: var(--text-tertiary);
        }

        .sort-select {
            border: 1px solid var(--border-gray);
            border-radius: 6px;
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: 14px;
            background: var(--bg-white);
            cursor: pointer;
        }

        /* Place Cards */
        .place-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        .place-card {
            background: var(--bg-white);
            border: 1px solid var(--border-gray);
            border-radius: 12px;
            padding: var(--spacing-lg);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .place-card:hover {
            border-color: var(--primary-blue);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1);
        }

        .place-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-md);
        }

        .place-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
        }

        .travel-time {
            font-size: 14px;
            color: var(--primary-blue);
            font-weight: 500;
            background: rgba(37, 99, 235, 0.1);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 12px;
        }

        .place-rating {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }

        .stars {
            color: var(--warning-yellow);
            font-size: 16px;
        }

        .rating-text {
            font-size: 14px;
            color: var(--text-tertiary);
        }

        .place-address {
            font-size: 14px;
            color: var(--text-tertiary);
            margin-bottom: var(--spacing-lg);
        }

        .place-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .action-button {
            flex: 1;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .btn-details {
            background: var(--bg-light-gray);
            color: var(--text-primary);
        }

        .btn-details:hover {
            background: var(--info-blue);
            color: var(--bg-white);
        }

        .btn-directions {
            background: var(--bg-light-gray);
            color: var(--text-primary);
        }

        .btn-directions:hover {
            background: var(--success-green);
            color: var(--bg-white);
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: var(--spacing-2xl);
            color: var(--text-tertiary);
        }

        .loading-spinner {
            font-size: 32px;
            animation: spin 1s linear infinite;
            margin-bottom: var(--spacing-lg);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: var(--spacing-3xl);
            color: var(--text-tertiary);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: var(--spacing-lg);
        }

        /* Bottom Navigation */
        .bottom-nav {
            background: var(--bg-white);
            border-top: 1px solid var(--border-gray);
            padding: var(--spacing-sm) 0;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--spacing-sm);
            min-width: 48px;
            text-decoration: none;
            color: var(--text-tertiary);
            transition: color 0.2s ease;
        }

        .nav-item.active {
            color: var(--primary-blue);
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: var(--spacing-xs);
        }

        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .radio-group {
                gap: var(--spacing-2xl);
            }
            
            .filter-categories {
                justify-content: center;
            }
            
            .place-list {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-xl);
            }
            
            .bottom-nav {
                display: none;
            }
        }

        @media (min-width: 1024px) {
            .place-list {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        *:focus {
            outline: 2px solid var(--primary-blue);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <button class="back-button" onclick="goBack()" aria-label="ë’¤ë¡œê°€ê¸°">â†</button>
        <h1 class="header-title">ì£¼ë³€ ì¥ì†Œ ê²€ìƒ‰</h1>
        <div class="placeholder"></div>
    </header>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-conditions">
            <!-- ì¶œë°œì§€ -->
            <div class="condition-group">
                <label class="condition-label" for="startLocation">ì¶œë°œì§€</label>
                <div class="location-input-group">
                    <input type="text" id="startLocation" class="condition-input" value="Munich Central Station" placeholder="ì¶œë°œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <button class="current-location-btn" onclick="useCurrentLocation()" title="í˜„ì¬ ìœ„ì¹˜">ğŸ“</button>
                </div>
            </div>

            <!-- ì´ë™ìˆ˜ë‹¨ -->
            <div class="condition-group">
                <label class="condition-label">ì´ë™ìˆ˜ë‹¨</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="transport1" name="transport" value="ëŒ€ì¤‘êµí†µ" class="radio-input" checked onchange="searchPlaces()">
                        <label for="transport1" class="radio-label">ëŒ€ì¤‘êµí†µ</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="transport2" name="transport" value="ì°¨ëŸ‰" class="radio-input" onchange="searchPlaces()">
                        <label for="transport2" class="radio-label">ì°¨ëŸ‰</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="transport3" name="transport" value="ë„ë³´" class="radio-input" onchange="searchPlaces()">
                        <label for="transport3" class="radio-label">ë„ë³´</label>
                    </div>
                </div>
            </div>

            <!-- ì‹œê°„ ë²”ìœ„ -->
            <div class="condition-group">
                <label class="condition-label">ì‹œê°„ ë²”ìœ„</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="time1" name="timeRange" value="10ë¶„ë‚´" class="radio-input" onchange="searchPlaces()">
                        <label for="time1" class="radio-label">10ë¶„ë‚´</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="time2" name="timeRange" value="30ë¶„ë‚´" class="radio-input" checked onchange="searchPlaces()">
                        <label for="time2" class="radio-label">30ë¶„ë‚´</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="time3" name="timeRange" value="60ë¶„ë‚´" class="radio-input" onchange="searchPlaces()">
                        <label for="time3" class="radio-label">60ë¶„ë‚´</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- í‚¤ì›Œë“œ ê²€ìƒ‰ -->
        <div class="keyword-search">
            <div style="position: relative;">
                <span class="search-icon">âœ¨</span>
                <input type="text" class="search-input" placeholder="ì°¾ì„ ì¥ì†Œ ì¢…ë¥˜/ì´ë¦„ ì…ë ¥" oninput="handleKeywordSearch(this.value)">
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="filter-categories">
            <button class="filter-category active" onclick="filterByCategory('ì „ì²´')" data-category="ì „ì²´">ì „ì²´</button>
            <button class="filter-category" onclick="filterByCategory('ê´€ê´‘ì§€')" data-category="ê´€ê´‘ì§€">ê´€ê´‘ì§€</button>
            <button class="filter-category" onclick="filterByCategory('ë§›ì§‘')" data-category="ë§›ì§‘">ë§›ì§‘</button>
            <button class="filter-category" onclick="filterByCategory('ë¹¨ë˜ë°©')" data-category="ë¹¨ë˜ë°©">ë¹¨ë˜ë°©</button>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section">
        <div class="results-header">
            <div class="results-count" id="resultsCount">24ê³³ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤</div>
            <select class="sort-select" onchange="sortResults(this.value)">
                <option value="time">ì‹œê°„ìˆœ</option>
                <option value="rating">í‰ì ìˆœ</option>
                <option value="name">ì´ë¦„ìˆœ</option>
                <option value="review">ë¦¬ë·°ìˆœ</option>
            </select>
        </div>

        <!-- Place List -->
        <div class="place-list" id="placeList">
            <!-- Place Card 1 -->
            <div class="place-card" onclick="viewPlaceDetails(1)">
                <div class="place-header">
                    <div>
                        <div class="place-name">ë§ˆë¦¬ì—”í”Œë¼ì¸  (Marienplatz)</div>
                        <div class="place-rating">
                            <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                            <span class="rating-text">4.3 (5,234ê°œ ë¦¬ë·°)</span>
                        </div>
                    </div>
                    <div class="travel-time">ëŒ€ì¤‘êµí†µ 12ë¶„</div>
                </div>
                <div class="place-address">Marienplatz 1, 80331 MÃ¼nchen, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(1, event)">ìƒì„¸ì •ë³´</button>
                    <button class="action-button btn-directions" onclick="getDirections(1, event)">ê¸¸ì°¾ê¸°</button>
                </div>
            </div>

            <!-- Place Card 2 -->
            <div class="place-card" onclick="viewPlaceDetails(2)">
                <div class="place-header">
                    <div>
                        <div class="place-name">í˜¸í”„ë¸Œë¡œì´í•˜ìš°ìŠ¤ (HofbrÃ¤uhaus)</div>
                        <div class="place-rating">
                            <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                            <span class="rating-text">4.1 (8,942ê°œ ë¦¬ë·°)</span>
                        </div>
                    </div>
                    <div class="travel-time">ëŒ€ì¤‘êµí†µ 15ë¶„</div>
                </div>
                <div class="place-address">Platzl 9, 80331 MÃ¼nchen, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(2, event)">ìƒì„¸ì •ë³´</button>
                    <button class="action-button btn-directions" onclick="getDirections(2, event)">ê¸¸ì°¾ê¸°</button>
                </div>
            </div>

            <!-- Place Card 3 -->
            <div class="place-card" onclick="viewPlaceDetails(3)">
                <div class="place-header">
                    <div>
                        <div class="place-name">ë®Œí—¨ ë ˆì§€ë´ì¸  (MÃ¼nchen Residenz)</div>
                        <div class="place-rating">
                            <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                            <span class="rating-text">4.5 (3,721ê°œ ë¦¬ë·°)</span>
                        </div>
                    </div>
                    <div class="travel-time">ëŒ€ì¤‘êµí†µ 18ë¶„</div>
                </div>
                <div class="place-address">ResidenzstraÃŸe 1, 80333 MÃ¼nchen, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(3, event)">ìƒì„¸ì •ë³´</button>
                    <button class="action-button btn-directions" onclick="getDirections(3, event)">ê¸¸ì°¾ê¸°</button>
                </div>
            </div>

            <!-- Place Card 4 -->
            <div class="place-card" onclick="viewPlaceDetails(4)">
                <div class="place-header">
                    <div>
                        <div class="place-name">í”„ë¼ìš°ì—”í‚¤ë¥´í—¨ (Frauenkirche)</div>
                        <div class="place-rating">
                            <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                            <span class="rating-text">4.2 (2,156ê°œ ë¦¬ë·°)</span>
                        </div>
                    </div>
                    <div class="travel-time">ëŒ€ì¤‘êµí†µ 20ë¶„</div>
                </div>
                <div class="place-address">Frauenplatz 12, 80331 MÃ¼nchen, Germany</div>
                <div class="place-actions">
                    <button class="action-button btn-details" onclick="viewPlaceDetails(4, event)">ìƒì„¸ì •ë³´</button>
                    <button class="action-button btn-directions" onclick="getDirections(4, event)">ê¸¸ì°¾ê¸°</button>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading" id="loadingState" style="display: none;">
            <div class="loading-spinner">â³</div>
            <p>ë” ë§ì€ ì¥ì†Œë¥¼ ì°¾ëŠ” ì¤‘...</p>
        </div>
    </section>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" aria-label="í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜">
        <a href="#" class="nav-item" onclick="goToHome()">
            <div class="nav-icon">ğŸ </div>
            <span class="nav-label">í™ˆ</span>
        </a>
        <a href="#" class="nav-item" onclick="goToNewTrip()">
            <div class="nav-icon">âœˆï¸</div>
            <span class="nav-label">ìƒˆ ì—¬í–‰</span>
        </a>
        <a href="#" class="nav-item active" onclick="goToSearch()">
            <div class="nav-icon">ğŸ“</div>
            <span class="nav-label">ì¥ì†Œê²€ìƒ‰</span>
        </a>
        <a href="#" class="nav-item" onclick="goToTripList()">
            <div class="nav-icon">ğŸ“‹</div>
            <span class="nav-label">ì—¬í–‰ëª©ë¡</span>
        </a>
    </nav>

    <script>
        // Global variables
        let currentCategory = 'ì „ì²´';
        let currentKeyword = '';
        let isLoading = false;
        let currentPage = 1;

        // Sample place data
        const samplePlaces = [
            {
                id: 1,
                name: 'ë§ˆë¦¬ì—”í”Œë¼ì¸  (Marienplatz)',
                category: 'ê´€ê´‘ì§€',
                rating: 4.3,
                reviewCount: 5234,
                travelTime: 'ëŒ€ì¤‘êµí†µ 12ë¶„',
                address: 'Marienplatz 1, 80331 MÃ¼nchen, Germany'
            },
            {
                id: 2,
                name: 'í˜¸í”„ë¸Œë¡œì´í•˜ìš°ìŠ¤ (HofbrÃ¤uhaus)',
                category: 'ë§›ì§‘',
                rating: 4.1,
                reviewCount: 8942,
                travelTime: 'ëŒ€ì¤‘êµí†µ 15ë¶„',
                address: 'Platzl 9, 80331 MÃ¼nchen, Germany'
            },
            {
                id: 3,
                name: 'ë®Œí—¨ ë ˆì§€ë´ì¸  (MÃ¼nchen Residenz)',
                category: 'ê´€ê´‘ì§€',
                rating: 4.5,
                reviewCount: 3721,
                travelTime: 'ëŒ€ì¤‘êµí†µ 18ë¶„',
                address: 'ResidenzstraÃŸe 1, 80333 MÃ¼nchen, Germany'
            },
            {
                id: 4,
                name: 'í”„ë¼ìš°ì—”í‚¤ë¥´í—¨ (Frauenkirche)',
                category: 'ê´€ê´‘ì§€',
                rating: 4.2,
                reviewCount: 2156,
                travelTime: 'ëŒ€ì¤‘êµí†µ 20ë¶„',
                address: 'Frauenplatz 12, 80331 MÃ¼nchen, Germany'
            }
        ];

        // Current location functionality
        function useCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    alert(`í˜„ì¬ ìœ„ì¹˜ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\nìœ„ë„: ${position.coords.latitude}\nê²½ë„: ${position.coords.longitude}`);
                    document.getElementById('startLocation').value = 'í˜„ì¬ ìœ„ì¹˜';
                    searchPlaces();
                }, function(error) {
                    alert('ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                });
            } else {
                alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        }

        // Search functionality
        function searchPlaces() {
            const startLocation = document.getElementById('startLocation').value;
            const transport = document.querySelector('input[name="transport"]:checked').value;
            const timeRange = document.querySelector('input[name="timeRange"]:checked').value;
            
            console.log('ê²€ìƒ‰ ì¡°ê±´:', {
                startLocation,
                transport,
                timeRange,
                category: currentCategory,
                keyword: currentKeyword
            });
            
            // Simulate API call
            showLoading();
            setTimeout(() => {
                hideLoading();
                updateResults();
            }, 1000);
        }

        // Keyword search with debounce
        let keywordTimeout;
        function handleKeywordSearch(keyword) {
            clearTimeout(keywordTimeout);
            keywordTimeout = setTimeout(() => {
                currentKeyword = keyword;
                if (keyword.length > 0) {
                    searchPlaces();
                } else {
                    updateResults();
                }
            }, 500);
        }

        // Category filtering
        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active category
            document.querySelectorAll('.filter-category').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            updateResults();
        }

        // Sort results
        function sortResults(sortBy) {
            console.log('ì •ë ¬ ê¸°ì¤€:', sortBy);
            // Implement sorting logic here
            updateResults();
        }

        // Update results display
        function updateResults() {
            let filteredPlaces = samplePlaces;
            
            // Filter by category
            if (currentCategory !== 'ì „ì²´') {
                filteredPlaces = filteredPlaces.filter(place => place.category === currentCategory);
            }
            
            // Filter by keyword
            if (currentKeyword) {
                filteredPlaces = filteredPlaces.filter(place => 
                    place.name.toLowerCase().includes(currentKeyword.toLowerCase())
                );
            }
            
            // Update results count
            document.getElementById('resultsCount').textContent = `${filteredPlaces.length}ê³³ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤`;
            
            // Update place list
            const placeList = document.getElementById('placeList');
            
            if (filteredPlaces.length === 0) {
                placeList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ”</div>
                        <h3>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p>ë‹¤ë¥¸ ê²€ìƒ‰ ì¡°ê±´ì„ ì‹œë„í•´ë³´ì„¸ìš”</p>
                    </div>
                `;
            } else {
                placeList.innerHTML = filteredPlaces.map(place => `
                    <div class="place-card" onclick="viewPlaceDetails(${place.id})">
                        <div class="place-header">
                            <div>
                                <div class="place-name">${place.name}</div>
                                <div class="place-rating">
                                    <span class="stars">${generateStars(place.rating)}</span>
                                    <span class="rating-text">${place.rating} (${place.reviewCount.toLocaleString()}ê°œ ë¦¬ë·°)</span>
                                </div>
                            </div>
                            <div class="travel-time">${place.travelTime}</div>
                        </div>
                        <div class="place-address">${place.address}</div>
                        <div class="place-actions">
                            <button class="action-button btn-details" onclick="viewPlaceDetails(${place.id}, event)">ìƒì„¸ì •ë³´</button>
                            <button class="action-button btn-directions" onclick="getDirections(${place.id}, event)">ê¸¸ì°¾ê¸°</button>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Generate star rating display
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            return 'â˜…'.repeat(fullStars) + 
                   (hasHalfStar ? 'â˜†' : '') + 
                   'â˜†'.repeat(emptyStars);
        }

        // Place actions
        function viewPlaceDetails(placeId, event) {
            if (event) {
                event.stopPropagation();
            }
            // ì¥ì†Œ ìƒì„¸ì •ë³´ í™”ë©´ìœ¼ë¡œ ì´ë™
            window.location.href = '10-ì¥ì†Œìƒì„¸ì •ë³´.html?id=' + placeId;
        }

        function getDirections(placeId, event) {
            event.stopPropagation();
            
            const place = samplePlaces.find(p => p.id === placeId);
            if (place) {
                alert(`${place.name}ìœ¼ë¡œ ê¸¸ì°¾ê¸°ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.`);
                // Open navigation app (Kakao Map for domestic, Google Maps for international)
            }
        }

        // Loading states
        function showLoading() {
            isLoading = true;
            document.getElementById('loadingState').style.display = 'block';
        }

        function hideLoading() {
            isLoading = false;
            document.getElementById('loadingState').style.display = 'none';
        }

        // Infinite scroll
        function setupInfiniteScroll() {
            window.addEventListener('scroll', function() {
                if (isLoading) return;
                
                const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
                
                if (scrollTop + clientHeight >= scrollHeight - 5) {
                    loadMoreResults();
                }
            });
        }

        function loadMoreResults() {
            if (isLoading) return;
            
            showLoading();
            currentPage++;
            
            // Simulate API call for next page
            setTimeout(() => {
                hideLoading();
                console.log(`í˜ì´ì§€ ${currentPage} ë¡œë“œ ì™„ë£Œ`);
            }, 1000);
        }

        // Navigation
        function goBack() {
            window.location.href = '03-ëŒ€ì‹œë³´ë“œ.html';
        }

        function goToHome() {
            window.location.href = '03-ëŒ€ì‹œë³´ë“œ.html';
        }

        function goToNewTrip() {
            alert('ìƒˆ ì—¬í–‰ ê³„íší•˜ê¸° í™”ë©´ìœ¼ë¡œ ì´ë™');
            // window.location.href = '05-ê¸°ë³¸ì„¤ì •.html';
        }

        function goToSearch() {
            alert('ì¥ì†Œê²€ìƒ‰ í™”ë©´ (í˜„ì¬ í˜ì´ì§€)');
        }

        function goToTripList() {
            alert('ì—¬í–‰ ëª©ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            setupInfiniteScroll();
            searchPlaces(); // Initial search
            
            console.log('ì£¼ë³€ì¥ì†Œê²€ìƒ‰ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        });

        // Handle form submissions
        document.getElementById('startLocation').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPlaces();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const focusedElement = document.activeElement;
                if (focusedElement.classList.contains('place-card')) {
                    e.preventDefault();
                    focusedElement.click();
                }
            }
        });
    </script>
</body>
</html>