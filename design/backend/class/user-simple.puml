@startuml
!theme mono

title User Service - 클래스 설계 간소화 (Layered Architecture)

' ===== Controller Layer =====
package "com.unicorn.tripgen.user.controller" {
    class UserController
}

' ===== Service Layer =====
package "com.unicorn.tripgen.user.service" {
    interface UserService
    class UserServiceImpl
    interface ValidationService
    class ValidationServiceImpl
    interface AuthService
    class AuthServiceImpl
    interface ImageService
    class ImageServiceImpl
    interface EmailService
    class EmailServiceImpl
}

' ===== Repository Layer =====
package "com.unicorn.tripgen.user.repository" {
    interface UserRepository
    class UserRepositoryImpl
}

' ===== Entity Layer =====
package "com.unicorn.tripgen.user.entity" {
    class UserEntity
    enum Gender
    enum UserStatus
}

' ===== DTO Layer =====
package "com.unicorn.tripgen.user.dto" {
    class RegisterRequest
    class RegisterResponse
    class LoginRequest
    class LoginResponse
    class UserProfile
    class UpdateProfileRequest
    class ChangePasswordRequest
    class AvatarUploadResponse
    class UsernameCheckResponse
    class EmailCheckResponse
}

' ===== Config Layer =====
package "com.unicorn.tripgen.user.config" {
    class UserConfig
    class SecurityConfig
    class ValidationConfig
}

' ===== Relationships =====
UserController --> UserService : depends
UserController --> ValidationService : depends
UserController --> AuthService : depends
UserController --> ImageService : depends

UserServiceImpl ..|> UserService : implements
UserServiceImpl --> UserRepository : depends

ValidationServiceImpl ..|> ValidationService : implements
AuthServiceImpl ..|> AuthService : implements
ImageServiceImpl ..|> ImageService : implements
EmailServiceImpl ..|> EmailService : implements

UserRepositoryImpl ..|> UserRepository : implements
UserEntity --|> BaseTimeEntity : extends

@enduml