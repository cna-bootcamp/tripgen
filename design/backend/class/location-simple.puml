@startuml
!theme mono

title Location Service - Layered Architecture (Simple)

' ===== Controller Layer =====
package "com.unicorn.tripgen.location.controller" {
    class LocationController
}

' ===== Service Layer =====
package "com.unicorn.tripgen.location.service" {
    interface LocationService
    class LocationServiceImpl
    interface ExternalApiService
    class GooglePlacesService
    interface WeatherService
    class OpenWeatherService
    interface AIServiceClient
    class AIServiceClientImpl
}

' ===== Repository Layer =====
package "com.unicorn.tripgen.location.repository" {
    interface PlaceRepository
    interface ReviewRepository
    interface AIRecommendationRepository
}

' ===== Entity Layer =====
package "com.unicorn.tripgen.location.entity" {
    class Place
    class Review
    class AIRecommendation
    class AlternativePlace
    enum PlaceCategory
    enum Region
    enum TransportMode
    enum SortType
}

' ===== DTO Layer =====
package "com.unicorn.tripgen.location.dto" {
    class NearbySearchRequest
    class NearbySearchResponse
    class KeywordSearchResponse
    class PlaceCard
    class PlaceDetails
    class LocationDto
    class LocationInfo
    class BusinessHours
    class DayHours
    class ContactInfo
    class AIRecommendationDto
    class TipsDto
    class AlternativePlaceDto
    class ReviewDto
    class SearchOptions
    class Coordinates
    class ExternalPlaceData
    class WeatherInfo
    class WeatherForecast
    class AIRecommendationRequest
    enum AIProcessingStatus
}

' ===== Config Layer =====
package "com.unicorn.tripgen.location.config" {
    class LocationConfig
    class ExternalApiConfig
    class CacheConfig
}

' ===== Layer Dependencies (Simplified) =====
LocationController --> LocationService
LocationServiceImpl --|> LocationService
LocationServiceImpl --> PlaceRepository
LocationServiceImpl --> ExternalApiService
LocationServiceImpl --> AIServiceClient
LocationServiceImpl --> WeatherService

GooglePlacesService --|> ExternalApiService
OpenWeatherService --|> WeatherService
AIServiceClientImpl --|> AIServiceClient

PlaceRepository --> Place
ReviewRepository --> Review
AIRecommendationRepository --> AIRecommendation

Place --> PlaceCategory
Place --> Region
AIRecommendation --> AlternativePlace

NearbySearchRequest --> LocationDto
NearbySearchResponse --> PlaceCard
PlaceDetails --> LocationInfo
PlaceDetails --> BusinessHours
PlaceDetails --> AIRecommendationDto
AIRecommendationDto --> TipsDto

LocationConfig --> GooglePlacesService
LocationConfig --> OpenWeatherService
LocationConfig --> AIServiceClient

@enduml